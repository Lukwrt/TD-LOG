

<html>
<head>
	<title>Chat Room</title>
	<h1 id = "ID"> </h1>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.4.8/socket.io.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
</head>
<body>
	<script type="text/javascript">
	$(document).ready(function(){
		id = -1 ;
		val_ping = 0
		var socket = io.connect('http://127.0.0.1:5000');
		socket.on('connect', function(){
			socket.send('Client connected.');
			socket.emit('authentification');
		});
		socket.on('authentification',function(ID){
			id = ID ;
			$('#ID').append('user ID : ' + id);
		});

		$('#envoyer').on('click', function(){
			socket.emit('message',"user "+ id.toString()+ " says : "+$('#user_message').val());
			$('#user_message').val('');
		});

		$('#pingb').on('click', function(){
			val_ping = val_ping + 1 ;
			socket.emit('pingg',{"id" : id, "vping" : val_ping});
		});

		socket.on('message', function(msg){
			$('#messages').append('<li>'+msg+'</li>');
		});
	});
		</script>

		<ul id="messages"></ul>
		<input type="text" id="user_message">
		<button id="envoyer">envoyer</button>
		<button id="pingb"> PING </button>
	</body>
	</html>
